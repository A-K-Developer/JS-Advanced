<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-edge">
    <meta name="viewport" content='width=device-width, initial-scale=1.0'>
    <title>Document</title>
</head>

<body>
    <button id="load">Load Repos</button>
        <div id="res"></div>

   <script>
    let button = document.querySelector('#load');
    button.addEventListener('click',onClick);

    //asynchronen
    async function onClick(){

        //try {
            // const res = await fetch('http://swapi.dev/api/people');
            // const data = await res.json();

            //document.getElementById('res').value = JSON.stringify(data,null,22)
        //}catch(err){
            //alert(err.message);
        //}
        fetch('http://swapi.dev/api/people')
            .then(res => res.json())
                .then(data => document.getElementById('res').value = JSON.stringify(data,null,22))
                .catch(eerr => alert(err.message));
    }
        /*
        let button = document.querySelector("#load");
        button.addEventListener('click', function loadRepos() {
            let url = 'https://api.github.com/users/testnakov/repos';
            const httpRequest = new XMLHttpRequest();
            httpRequest.addEventListener('readystatechange', function () {
                if (httpRequest.readyState == 4 && httpRequest.status == 200) {
                    document.getElementById("res").textContent = httpRequest.responseText;
                }
            });
            httpRequest.open("GET", url);
            httpRequest.send();
        });
        */

    </script>
</body>

</html>